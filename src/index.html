<!DOCTYPE html>
<html lang="en">
  <!-- VERSION 04/2023 -->
  <head>
    <!-- COOKIE-HINT-->
    <script
      id="Cookiebot"
      src="https://consent.cookiebot.com/uc.js"
      data-cbid="4bc229f3-5c28-475e-a230-7d4f2c7668e1"
      type="text/javascript"
      async
    ></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Das Meisterhaus - Clever bauen</title>
    <meta
      name="description"
      content="Mit jahrelanger Erfahrung im Hausbau und über 200 glücklichen Familien, unterstützt das Meisterhaus auch Sie von der Planung bis zum fertigen Haus. "
    />
    <base href="/" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <!-- IMPORTS -->
    <link rel="stylesheet" href="https://use.typekit.net/gfe0zyn.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script>
      var Animation = function ({ offset } = { offset: 10 }) {
        var _elements;

        // Define a dobra superior, inferior e laterais da tela
        var windowTop = (offset * window.innerHeight) / 100;
        var windowBottom = window.innerHeight - windowTop;
        var windowLeft = 0;
        var windowRight = window.innerWidth;

        function start(element) {
          // Seta os atributos customizados
          element.style.animationDelay = element.dataset.animationDelay;
          element.style.animationDuration = element.dataset.animationDuration;
          // Inicia a animacao setando a classe da animacao
          element.classList.add(element.dataset.animation);
          // Seta o elemento como animado
          element.dataset.animated = "true";
        }

        function isElementOnScreen(element) {
          // Obtem o boundingbox do elemento
          var elementRect = element.getBoundingClientRect();
          var elementTop =
            elementRect.top + parseInt(element.dataset.animationOffset) ||
            elementRect.top;
          var elementBottom =
            elementRect.bottom - parseInt(element.dataset.animationOffset) ||
            elementRect.bottom;
          var elementLeft = elementRect.left;
          var elementRight = elementRect.right;

          // Verifica se o elemento esta na tela
          return (
            elementTop <= windowBottom &&
            elementBottom >= windowTop &&
            elementLeft <= windowRight &&
            elementRight >= windowLeft
          );
        }

        // Percorre o array de elementos, verifica se o elemento está na tela e inicia animação
        function checkElementsOnScreen(els = _elements) {
          for (var i = 0, len = els.length; i < len; i++) {
            // Passa para o proximo laço se o elemento ja estiver animado
            if (els[i].dataset.animated) continue;

            isElementOnScreen(els[i]) && start(els[i]);
          }
        }

        // Atualiza a lista de elementos a serem animados
        function update() {
          _elements = document.querySelectorAll(
            "[data-animation]:not([data-animated])"
          );
          checkElementsOnScreen(_elements);
        }

        // Inicia os eventos
        window.addEventListener("load", update, false);
        window.addEventListener(
          "scroll",
          () => checkElementsOnScreen(_elements),
          { passive: true }
        );
        window.addEventListener(
          "resize",
          () => checkElementsOnScreen(_elements),
          false
        );

        // Retorna funcoes publicas
        return {
          start,
          isElementOnScreen,
          update,
        };
      };

      // Initialize
      var options = {
        offset: 20, //percentage of window
      };
      var animation = new Animation(options);
    </script>
  </head>
  <body ng-app>
    <!-- BUILDS THE CONTENTS-->
    <!-- <div class="page-wrapper"> -->
    <app-root></app-root>
    <!-- </div> -->
  </body>
</html>
